@startuml
participant Reporter as reporter
participant GitHub as github
participant Action as action
participant LLM as llm

reporter -> github: GitHub issue
github -> action: GitHub issue
action -> llm: issue, ask for problems
llm --> action: problems
action -> llm: problems, validate
llm --> action: validated
alt validated are empty
  action --> github: success
  action --> reporter: thank you
end
alt validated are not empty
  action -> llm: validated, report
  llm --> action: contexted
  action -> llm: contexted, cap top 3 problems
  llm --> action: top
  action -> llm: top, format to JSON
  llm --> action: top.json
  action -> llm: top, ask for suggestions
  llm --> action: suggestions
  action -> llm: suggestions, format to JSON
  llm --> action: suggestions.json
  action --> github: fail
  action --> reporter: suggestions, spent tokens
end
@enduml
